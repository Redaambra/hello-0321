<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Auto ivedimo laukai</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
        table {
            border: 1px solid black;
            border-collapse: collapse;
            background-color:rgb(230, 225, 225);
            
        }

        th,
        td,
        tr {
            border: 1px solid black;
            text-align: center;
                }
        th, td {width: 10vw; }

        .form-control {width: 90%;}
      
        #forma {
            width: 40vw;
        }

        body {
            padding: 8px;
            background-image: url(auto_sketch2.jpg);
            background-attachment: fixed;
            background-repeat: no-repeat;
            background-position-x: right;

        }
        input {
            width: 40px;
            background-color: rgb(230, 225, 225);;
                }
        #kuku {display: none;}

        table {
            display: none;
            width: 48vw;
            }

       
    </style>
</head>

<body>
<div class="container">
        <h2>Automobilių duomenų įvedimas</h2>
        <!-- Trigger the modal with a button -->
        <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Naujas</button>
        
        <!-- Modal -->
        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">
            
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Įveskite datą, numerį, atstumą ir laiką:</h4>
                </div>
                <div class="modal-body">
                    <h3>Automobilių duomenų įvedimo langas</h3>
                    <form id="forma">
                        <div class="form-group">
                            <label>Data</label>
                            <input class=" form-control" ; type="date" id="data" value="">
                        </div>
                        <div class="form-group">
                            <label>Auto nr.</label>
                            <input class=" form-control" type="text" id="numeris" value="">
                        </div>
                        <div class="form-group">
                            <label>Atstumas, m</label>
                            <input class=" form-control" type="number" id="atstumas" value="">
                        </div>
                        <div class="form-group">
                            <label>Laikas, s</label>
                            <input class=" form-control" type="number" id="laikas" value="">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button id="btn1" class="btn btn-default" ; onclick="ikelti(), lentele()" data-dismiss="modal">Įrašyti</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Atšaukti</button>
                
                </div>
            </div>
            </div>
        </div>
        </div>




    <p id="demo">demo paragrafas</p>
    <table>
        <thead>
            <tr>
                <th>Data</th>
                <th>Auto nr.</th>
                <th>Atstumas, s</th>
                <th>Laikas, m</th>
                <th>Greitis, km/h</th>
                <th>Veiksmai</th>
          
            </tr>
        </thead>
        <tbody id="a">
        </tbody>


    </table>

    


    <script>
var m = [
    {'data': '1', 'numeris': '2', 'atstumas': 3, 'laikas': 4, 'greitis': 5}, 
    {'data': '5', 'numeris': '6', 'atstumas': 7, 'laikas': 8, 'greitis': 9},
    {'data': '111', 'numeris': '222', 'atstumas': 333, 'laikas': 4444, 'greitis': 555}
    ];

function ikelti() {
    m.push({
        'data': document.getElementById("data").value,
        'numeris': document.getElementById("numeris").value,
        'atstumas': document.getElementById("atstumas").value,
        'laikas': document.getElementById("laikas").value,    
    });
    lentele();
    document.getElementById("forma").reset();
}


function lentele() {
    var lentele = '';
    m.forEach((a, i) => {
        lentele += 
            '<tr>' +
                '<td>' + a.data + '</td>' +
                '<td>' + a.numeris + '</td>' +
                '<td>' + a.atstumas + '</td>' +
                '<td>' + a.laikas + '</td>' +
                '<td>' + (a.atstumas / a.laikas * 3.6).toFixed(2) + '</td>' +
                '<td>' + '<button class="btn btn-default" onclick="trinti('+i+')" >Trinti</button>' +
                '<button class="btn btn-default" onclick="taisyti('+i+')" >Taisyti</button>' + '</td>' +
                '</tr>'
    });
    document.getElementById('a').innerHTML = lentele;
}



function trinti(k) {
    m.splice(k, 1);
    lentele();
}

function taisyti(index) {
            var a = m[index];
            document.getElementById("data2").value = a.data,
            document.getElementById("numeris2").value = a.numeris,
            document.getElementById("atstumas2").value = a.atstumas,
            document.getElementById("laikas2").value = a.laikas;

        }

        function issaugoti(index) {
            var a = m[index]
            a.data = document.getElementById("data2").value;
            a.numeris = document.getElementById("numeris2").value;
            a.atstumas = document.getElementById("atstumas2").value;
            a.laikas = document.getElementById("laikas2").value;
            lentele();

        }

        $(document).ready(function(){
    $("#btn1").click(function(){
        $("table").show();
    });
});




   
    </script>



</body>

</html>