<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Auto ivedimo laukai</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
        table {
            border: 1px solid black;
            border-collapse: collapse;
            background-color:beige;
            
        }

        th,
        td,
        tr {
            border: 1px solid black;
            width: 90px;
            text-align: center;
        }

        .laukas {
            width: 300px;
            border: 1px solid black;
            height: 20px;
        }
        .mgt {width:90px;}
        #forma {
            width: 40vw;
        }

        body {
            padding: 10px;
            background-image: url(auto_sketch.jpg)
        }
        input {
            width: 90px;
            background-color: antiquewhite;
                }
       
    </style>
</head>

<body>
    <h3>Automobilių duomenų įvedimo langas</h3>
    <form id="forma">
        <div class="form-group">
            <label>Data</label>
            <input class=" form-control" ; type="date" id="data" value="">
        </div>
        <div class="form-group">
            <label>Auto nr.</label>
            <input class=" form-control" type="text" id="numeris" value="">
        </div>
        <div class="form-group">
            <label>Atstumas, m</label>
            <input class=" form-control" type="number" id="atstumas" value="">
        </div>
        <div class="form-group">
            <label>Laikas, s</label>
            <input class=" form-control" type="number" id="laikas" value="">
        </div>
    </form>

    <button class="btn btn-default" ; onclick="ikelti(), nauja_funkcija()">Saugoti</button>
    <p id="demo"></p>
    <table>
        <thead>
            <tr>
                <th>Data</th>
                <th>Auto nr.</th>
                <th>Atstumas, s</th>
                <th>Laikas, m</th>
                <th>Greitis, km/h</th>
                <th>Veiksmai</th>
                <th>Koreguoti atstuma</th>
            </tr>
        </thead>
        <tbody id="a">
        </tbody>


    </table>


    <script>
var m = [
    {'data': '1', 'numeris': '2', 'atstumas': 3, 'laikas': 4, 'greitis': 5}, 
    {'data': '5', 'numeris': '6', 'atstumas': 7, 'laikas': 8, 'greitis': 9},
    {'data': '111', 'numeris': '222', 'atstumas': 333, 'laikas': 4444, 'greitis': 555}
    ];

function ikelti() {
    m.push({
        'data': document.getElementById("data").value,
        'numeris': document.getElementById("numeris").value,
        'atstumas': document.getElementById("atstumas").value,
        'laikas': document.getElementById("laikas").value,    
    });
    lentele();
    document.getElementById("forma").reset();
}


function lentele() {
    var lentele = '';
    m.forEach((a, i) => {
        lentele += 
            '<tr>' +
                '<td>' + a.data + '</td>' +
                '<td>' + a.numeris + '</td>' +
                '<td>' + a.atstumas + '</td>' +
                '<td>' + a.laikas + '</td>' +
                '<td>' + (a.atstumas / a.laikas * 3.6).toFixed(2) + '</td>' +
                '<td>' + '<button onclick="trinti('+ i +')">Trinti</button>' + '</td>' +
                '<td>' + '<input class="kuku"><button onclick="taisyti_atstuma()">Taisyti</button>' + '</td>' +

            '</tr>';
    });
    document.getElementById('a').innerHTML = lentele;
}



function trinti(k) {
    m.splice(k, 1);
    lentele();
}

function taisyti_atstuma() {
    delete m[0].atstumas;
    var b = document.getElementsByClassName('kuku').value;
    m[0].atstumas = b;
    document.getElementsByClassName('kuku').reset();
    lentele();}

   
   
    </script>



</body>

</html>